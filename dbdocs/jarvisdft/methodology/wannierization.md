We use Wannier90 to construct Maximally-Localized Wannier Functions (MLWF) based TB-Hamiltonians.
For the case of interest in this work, where we wish to describe both the valence and conduction bands near the Fermi level, it is necessary to first select a set of bands to Wannierize, which includes separating the conduction bands from the free-electron-like bands that generally overlap with them in energy. The procedure to determine this localized subspace of Bloch wavefunctions proceeds similarly to minimization described above, where after an initial guess, the subspace is iteratively updated in order to minimize the spread function. After this initial disentanglement step, the Wannierization of the selected subspace proceeds as described above.
Due to the iterative non-linear minimization employed during both the disentanglement and Wannierization steps, the localization and utility of the final Wannier functions depend in practice on the initial choice of orbitals that are used to begin the disentanglement procedure, and which are then used as the initial guess for the Wannierization. Our initial guesses consist of a set of atomic orbitals we have chosen to describe all the chemically relevant orbitals for each element in typical elemental systems and compounds. 

During the disentanglement step, it is possible to choose an energy range that is included exactly (“the frozen window”), with the result that the Wannier band structure will exactly match the DFT band structure in this energy range and at the grid of k-points used in the Wannierization. We use a frozen window of ± 2 eV around the Fermi-energy. This window ensures that bands near the Fermi level are well described by the WTBH. For cases where the original WFs were unsatisfactory (see below), we found that lowering the lower bound of this window to include all of the valence bands often improves that WTBH, which we use as a second Wannierization setting. In order to validate our WTBH, we calculate the maximum absolute difference (μ) between the Wannier and DFT eigenvalues within an energy range of ± 2eV around the Fermi level.

A weakness of this evaluation method is that highly dispersive energy bands (high (dE_nk)/dk) can result in high μ values even if the WTBH is of good quality because any slight shift in the k-direction of a dispersive band will result in a large energy error. We consider that systems with μ less than 0.1 eV to useful for most applications, and we provide data for the user to evaluate individual WTBH for their own applications.
